<?xml version="1.0" encoding="UTF-8"?><record_update table="sp_widget">
    <sp_widget action="DELETE">
        <category>custom</category>
        <client_script><![CDATA[api.controller = function($scope, $element, snAttachmentHandler, i18n, spAriaUtil, spModal) {

    var c = this;
    
};]]></client_script>
        <controller_as>c</controller_as>
        <css/>
        <data_table>sp_instance</data_table>
        <demo_data/>
        <description/>
        <docs/>
        <field_list/>
        <has_preview>true</has_preview>
        <id>invest-header</id>
        <internal>false</internal>
        <link><![CDATA[function link(scope, element, attrs, controller) {

    var currentLI = 0;
    $(document).ready(function() {
        $(element).on("keypress", "div#uploadBanner", function(e) {
            e.preventDefault();
            $("#uploadBanner").blur();
            resetLiIndex();
            var listItems = document.querySelectorAll("li.li-upload");
            if (listItems.length > 0) {
                setLiElementOnFocus(listItems, currentLI);
            }
        });
        $(document).bind('click', function(event) {
            var listItems = document.querySelectorAll("li.li-upload");
            var uploadBanner = document.getElementById('uploadBanner');
            if (uploadBanner && !uploadBanner.contains(event.target) && listItems.length > 0) {
                resetLiIndex();
                controller.closePopUp();
            } else if (uploadBanner && uploadBanner.contains(event.target)) {
                resetLiIndex();
            }
        });
        document.addEventListener("keydown", function(event) {
            var listItems = document.querySelectorAll("li.li-upload");
            if (listItems.length > 0) {

                switch (event.keyCode) {
                    case 38: //up arrow key
                        event.preventDefault();
                        blurLiElement(listItems, currentLI);
                        currentLI = currentLI > 0 ? --currentLI : 0;
                        setLiElementOnFocus(listItems, currentLI);
                        break;
                    case 40: //down arrow key
                        event.preventDefault();
                        blurLiElement(listItems, currentLI);
                        currentLI = currentLI < listItems.length - 1 ? ++currentLI : listItems.length - 1;
                        setLiElementOnFocus(listItems, currentLI);
                        break;
                    case 13: //enter key
                        break;
                    case 32: //space key
                        event.preventDefault();
                        break;
                    case 27: //esc key, for the upload banner pop up to close
                        setBannerFocus(listItems, currentLI);
                        break;
                    default:
                        blurLiElement(listItems, currentLI);
                        resetLiIndex();
                }
            }
        });
    });

    function resetLiIndex() {
        currentLI = 0;
    }

    function blurLiElement(liItems, index) {
        liItems[index].classList.remove("highlight");
        liItems[index].blur();
    }

    function setLiElementOnFocus(liItems, index) {
        liItems[index].classList.add("highlight");
        var liItem = $('#upload-remove-banner').find("li.li-upload.highlight");
        liItem.focus();
    }

    function setBannerFocus(liItems, index) {
        blurLiElement(liItems, index);
        resetLiIndex();
        $("#uploadBanner").focus();
        $("#uploadBanner").click();
    }
}]]></link>
        <name>Investment Header</name>
        <option_schema>[{"name":"show_ms_teams_presence","section":"Presentation","default_value":"true","label":"Show MS Teams Presence","type":"boolean"},{"displayValue":"Action group","name":"action_group","section":"Data","label":"Action Group","type":"reference","value":"sn_ex_sp_action_group","ed":{"reference":"sn_ex_sp_action_group"}}]</option_schema>
        <public>false</public>
        <roles/>
        <script><![CDATA[(function() {
  /* populate the 'data' object */
  /* e.g., data.table = $sp.getValue('table'); */
	data.sysUserID = $sp.getParameter("sys_id");
	if (!data.sysUserID) {
        data.sysUserID = gs.getUser().getID();
  }
	
	
})();]]></script>
        <servicenow>false</servicenow>
        <sys_class_name>sp_widget</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2023-08-10 17:56:55</sys_created_on>
        <sys_id>c42e610e97a871102d7ebf56f053afa1</sys_id>
        <sys_mod_count>17</sys_mod_count>
        <sys_name>Investment Header</sys_name>
        <sys_package display_value="KS Investment Requests" source="x_557984_ks_inve_0">3fe2f4c097a031102d7ebf56f053af5a</sys_package>
        <sys_policy/>
        <sys_scope display_value="KS Investment Requests">3fe2f4c097a031102d7ebf56f053af5a</sys_scope>
        <sys_update_name>sp_widget_c42e610e97a871102d7ebf56f053afa1</sys_update_name>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2023-08-10 18:10:00</sys_updated_on>
        <template><![CDATA[<div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 mb-20 imagelink">
  <img src="{{c.options.image}}" class="icon-img" alt="{{c.options.title}}"/>
  <div class="col-lg-10 col-md-10 col-sm-10 col-xs-10">
  <div class="black image-link-header">
    <h2>{{c.options.title}}</h2>
  </div>
  <p>
    ${{{c.options.description}}}
  </p>

</div>
  </div>]]></template>
    </sp_widget>
    <sys_update_version action="INSERT_OR_UPDATE">
        <action>DELETE</action>
        <application display_value="KS Investment Requests">3fe2f4c097a031102d7ebf56f053af5a</application>
        <file_path/>
        <instance_id>ffd77b33db71db483353f22ebf961942</instance_id>
        <instance_name>dev58633</instance_name>
        <name>sp_widget_c42e610e97a871102d7ebf56f053afa1</name>
        <payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sp_widget"&gt;&lt;sp_widget action="INSERT_OR_UPDATE"&gt;&lt;category&gt;custom&lt;/category&gt;&lt;client_script&gt;&lt;![CDATA[api.controller = function($scope, $element, snAttachmentHandler, i18n, spAriaUtil, spModal) {

    var c = this;
    
};]]&gt;&lt;/client_script&gt;&lt;controller_as&gt;c&lt;/controller_as&gt;&lt;css/&gt;&lt;data_table&gt;sp_instance&lt;/data_table&gt;&lt;demo_data/&gt;&lt;description/&gt;&lt;docs/&gt;&lt;field_list/&gt;&lt;has_preview&gt;true&lt;/has_preview&gt;&lt;id&gt;invest-header&lt;/id&gt;&lt;internal&gt;false&lt;/internal&gt;&lt;link&gt;&lt;![CDATA[function link(scope, element, attrs, controller) {

    var currentLI = 0;
    $(document).ready(function() {
        $(element).on("keypress", "div#uploadBanner", function(e) {
            e.preventDefault();
            $("#uploadBanner").blur();
            resetLiIndex();
            var listItems = document.querySelectorAll("li.li-upload");
            if (listItems.length &gt; 0) {
                setLiElementOnFocus(listItems, currentLI);
            }
        });
        $(document).bind('click', function(event) {
            var listItems = document.querySelectorAll("li.li-upload");
            var uploadBanner = document.getElementById('uploadBanner');
            if (uploadBanner &amp;&amp; !uploadBanner.contains(event.target) &amp;&amp; listItems.length &gt; 0) {
                resetLiIndex();
                controller.closePopUp();
            } else if (uploadBanner &amp;&amp; uploadBanner.contains(event.target)) {
                resetLiIndex();
            }
        });
        document.addEventListener("keydown", function(event) {
            var listItems = document.querySelectorAll("li.li-upload");
            if (listItems.length &gt; 0) {

                switch (event.keyCode) {
                    case 38: //up arrow key
                        event.preventDefault();
                        blurLiElement(listItems, currentLI);
                        currentLI = currentLI &gt; 0 ? --currentLI : 0;
                        setLiElementOnFocus(listItems, currentLI);
                        break;
                    case 40: //down arrow key
                        event.preventDefault();
                        blurLiElement(listItems, currentLI);
                        currentLI = currentLI &lt; listItems.length - 1 ? ++currentLI : listItems.length - 1;
                        setLiElementOnFocus(listItems, currentLI);
                        break;
                    case 13: //enter key
                        break;
                    case 32: //space key
                        event.preventDefault();
                        break;
                    case 27: //esc key, for the upload banner pop up to close
                        setBannerFocus(listItems, currentLI);
                        break;
                    default:
                        blurLiElement(listItems, currentLI);
                        resetLiIndex();
                }
            }
        });
    });

    function resetLiIndex() {
        currentLI = 0;
    }

    function blurLiElement(liItems, index) {
        liItems[index].classList.remove("highlight");
        liItems[index].blur();
    }

    function setLiElementOnFocus(liItems, index) {
        liItems[index].classList.add("highlight");
        var liItem = $('#upload-remove-banner').find("li.li-upload.highlight");
        liItem.focus();
    }

    function setBannerFocus(liItems, index) {
        blurLiElement(liItems, index);
        resetLiIndex();
        $("#uploadBanner").focus();
        $("#uploadBanner").click();
    }
}]]&gt;&lt;/link&gt;&lt;name&gt;Investment Header&lt;/name&gt;&lt;option_schema&gt;[{"name":"show_ms_teams_presence","section":"Presentation","default_value":"true","label":"Show MS Teams Presence","type":"boolean"},{"displayValue":"Action group","name":"action_group","section":"Data","label":"Action Group","type":"reference","value":"sn_ex_sp_action_group","ed":{"reference":"sn_ex_sp_action_group"}}]&lt;/option_schema&gt;&lt;public&gt;false&lt;/public&gt;&lt;roles/&gt;&lt;script&gt;&lt;![CDATA[(function() {
  /* populate the 'data' object */
  /* e.g., data.table = $sp.getValue('table'); */
	data.sysUserID = $sp.getParameter("sys_id");
	if (!data.sysUserID) {
        data.sysUserID = gs.getUser().getID();
  }
	
	
})();]]&gt;&lt;/script&gt;&lt;servicenow&gt;false&lt;/servicenow&gt;&lt;sys_class_name&gt;sp_widget&lt;/sys_class_name&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2023-08-10 17:56:55&lt;/sys_created_on&gt;&lt;sys_id&gt;c42e610e97a871102d7ebf56f053afa1&lt;/sys_id&gt;&lt;sys_mod_count&gt;17&lt;/sys_mod_count&gt;&lt;sys_name&gt;Investment Header&lt;/sys_name&gt;&lt;sys_package display_value="KS Investment Requests" source="x_557984_ks_inve_0"&gt;3fe2f4c097a031102d7ebf56f053af5a&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="KS Investment Requests"&gt;3fe2f4c097a031102d7ebf56f053af5a&lt;/sys_scope&gt;&lt;sys_update_name&gt;sp_widget_c42e610e97a871102d7ebf56f053afa1&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2023-08-10 18:10:00&lt;/sys_updated_on&gt;&lt;template&gt;&lt;![CDATA[&lt;div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 mb-20 imagelink"&gt;
  &lt;img src="{{c.options.image}}" class="icon-img" alt="{{c.options.title}}"/&gt;
  &lt;div class="col-lg-10 col-md-10 col-sm-10 col-xs-10"&gt;
  &lt;div class="black image-link-header"&gt;
    &lt;h2&gt;{{c.options.title}}&lt;/h2&gt;
  &lt;/div&gt;
  &lt;p&gt;
    ${{{c.options.description}}}
  &lt;/p&gt;

&lt;/div&gt;
  &lt;/div&gt;]]&gt;&lt;/template&gt;&lt;/sp_widget&gt;&lt;/record_update&gt;</payload>
        <payload_hash>-1967278990</payload_hash>
        <record_name>Investment Header</record_name>
        <reverted_from/>
        <source>a5596b1497e031102d7ebf56f053aff9</source>
        <source_table>sys_update_set</source_table>
        <state>previous</state>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2023-08-10 18:10:00</sys_created_on>
        <sys_id>2f1179ce97a871102d7ebf56f053afdf</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_recorded_at>189e0a421d80000001</sys_recorded_at>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2023-08-10 18:10:00</sys_updated_on>
        <type>Widget</type>
        <update_guid>a711b94e83a87110294532d66db6fcec</update_guid>
        <update_guid_history>a711b94e83a87110294532d66db6fcec:-1967278990,6ee0b5ce1ea871105530bb03276f53c6:1680567080,fbd071cecaa87110c822734b583a761d:-489183822,a2c0b18e3ba87110f457d9ac776caa1a:-152529798,f8c071ce4da87110950478a204176c25:108985602,1180390ea9a8711003bed92a1c6933c0:-1529765398,1130318ef2a87110c0433ea629c23805:-1339071464,5320f98e0aa87110a804320e5d26a568:1439023128,8cffa58e4ca871105c299f9699535db6:922170155,2bdfa58e9ea871101a7ef683d6b084b0:-868908277,719fa18ea2a871101b1159bd2c298ba9:1725244510,4f6fed4e86a87110358972e3b52e96bd:-681681452,4f2fe94e55a87110df77e1faf2628048:1862047900,6f1f694ed5a87110ce2db8e1354c28fe:-1555668268,f60fe10e68a87110610668999143d668:95949093,185ea90ed4a87110f4cc8b1c3805344a:933896592,544e290e24a871100f42a5e85d65c666:1484400422,8c2e610ef7a8711075446dd50de3e2a3:-1747863894</update_guid_history>
    </sys_update_version>
    <sys_metadata_delete action="INSERT_OR_UPDATE">
        <sys_audit_delete display_value="Investment Header">7d93bd4297e871102d7ebf56f053af3a</sys_audit_delete>
        <sys_class_name>sys_metadata_delete</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2023-08-10 18:20:48</sys_created_on>
        <sys_db_object display_value="" name="sp_widget">sp_widget</sys_db_object>
        <sys_id>59d18315c88a4e44a0f3825fea30de10</sys_id>
        <sys_metadata>c42e610e97a871102d7ebf56f053afa1</sys_metadata>
        <sys_mod_count>0</sys_mod_count>
        <sys_name>Investment Header</sys_name>
        <sys_package display_value="KS Investment Requests" source="x_557984_ks_inve_0">3fe2f4c097a031102d7ebf56f053af5a</sys_package>
        <sys_parent/>
        <sys_policy/>
        <sys_scope display_value="KS Investment Requests">3fe2f4c097a031102d7ebf56f053af5a</sys_scope>
        <sys_scope_delete display_value="">4725bc9f3b9c48a09615ea04128597f9</sys_scope_delete>
        <sys_update_name>sp_widget_c42e610e97a871102d7ebf56f053afa1</sys_update_name>
        <sys_update_version display_value="sp_widget_c42e610e97a871102d7ebf56f053afa1">2f1179ce97a871102d7ebf56f053afdf</sys_update_version>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2023-08-10 18:20:48</sys_updated_on>
    </sys_metadata_delete>
</record_update>
